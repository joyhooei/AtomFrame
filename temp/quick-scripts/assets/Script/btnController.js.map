{"version":3,"sources":["btnController.js"],"names":["cc","Class","extends","Component","properties","spNode","default","type","Prefab","desc","onLoad","console","log","Atom","eventMgr","listen","obj","data","prefabMgr","loadAllPrefab","key","path","index","onBtnHttpGet","gameNetMgr","httpGet","_bool","_respone","_status","notify","onBtnHttpPost","httpPost","onBtnHttpTimeOut","onBtnNotify","onBtnRemoveObjNotify","unListenByObj","onBtnRemoveEventNotify","unListenAllByKey","onBtnCreateTimerRe","timerMgr","registerTask","TASK_TYPE_RE","onBtnCreateTimerOne","TASK_TYPE_ONE","onBtnClearAllTask","cleanAllTask","onBtnCreateNode","nodelist","node","getPrefabObj","parent","director","getScene","setPosition","label","getChildByName","text","getComponent","Label","string","push","onBtnRemoveNode","length","element","holdPrefabObj","onBtnShowGameData","gameConfMgr","getInfo","gameDataMgr","getData","onBtnOpenGameScene","loadScene"],"mappings":"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","file":"btnController.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        spNode:{\n            default:null,\n            type:cc.Prefab,\n        },\n        desc:\"this is btnController\"\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n    onLoad:function() {\n        console.log(\"LOAD --- \", this.desc);\n        cc.Atom.eventMgr.listen(\"_onHW1\", (obj, data) => {\n            console.log(\"########### _onHW1 \", this.desc , data);\n        }, this);\n\n        cc.Atom.eventMgr.listen(\"_onHW2\", (obj, data) => {\n            console.log(\"########### _onHW2 \", this.desc, data);\n        }, this);\n\n\n\n        //加载预设资源\n        cc.Atom.prefabMgr.loadAllPrefab([{ key: \"spNode\", path:\"prefabs/spNode\"}], (index)=>{ console.log(index, \"loadfinish\" ) });\n    },\n\n\n    //按钮监听事件\n    onBtnHttpGet:function () {\n        cc.Atom.gameNetMgr.httpGet(\"http://www.baidu.com\"   , (_bool, _respone ,_status) => { \n            if(_bool == true){\n                cc.Atom.eventMgr.notify(\"_showMsg\", _respone)\n            }else{\n                cc.Atom.eventMgr.notify(\"_showMsg\", \"HTTP FAILED : STATUS \", _respone , _status )\n            }\n        });\n    },\n    onBtnHttpPost: function () {\n        cc.Atom.gameNetMgr.httpPost(\"http://www.baidu.com\", (_bool, _respone, _status) => {\n            if (_bool == true) {\n                cc.Atom.eventMgr.notify(\"_showMsg\", _respone)\n            } else {\n                cc.Atom.eventMgr.notify(\"_showMsg\", \"HTTP FAILED : STATUS \", _respone , _status)\n            }\n        });\n    },\n    onBtnHttpTimeOut: function () {\n        cc.Atom.gameNetMgr.httpGet(\"http://www.ba222idu.com\", (_bool, _respone, _status) => { \n            if (_bool == true) {\n                cc.Atom.eventMgr.notify(\"_showMsg\", _respone)\n            } else {\n                cc.Atom.eventMgr.notify(\"_showMsg\", \"HTTP FAILED : STATUS \", _respone , _status)\n            }\n        });\n    },\n    onBtnNotify: function () {\n        cc.Atom.eventMgr.notify(\"_showMsg\" , this.desc);\n    },\n    onBtnRemoveObjNotify: function () {\n        cc.Atom.eventMgr.unListenByObj(this)\n    },\n    onBtnRemoveEventNotify: function () {\n        cc.Atom.eventMgr.unListenAllByKey(\"_onHW1\")\n    },\n    onBtnCreateTimerRe: function () {\n        cc.Atom.timerMgr.registerTask(\"task1\", cc.Atom.timerMgr.TASK_TYPE_RE, () => { console.log(this.desc, \" ---- task1\") }, 1)\n        cc.Atom.timerMgr.registerTask(\"task3\", cc.Atom.timerMgr.TASK_TYPE_RE, () => { console.log(this.desc, \" ---- task3\") }, 1)\n        cc.Atom.timerMgr.registerTask(\"task5\", cc.Atom.timerMgr.TASK_TYPE_RE, () => { console.log(this.desc, \" ---- task5\") }, 1)\n        cc.Atom.timerMgr.registerTask(\"task7\", cc.Atom.timerMgr.TASK_TYPE_RE, () => { console.log(this.desc, \" ---- task7\") }, 1) \n    },\n    onBtnCreateTimerOne: function () {\n        cc.Atom.timerMgr.registerTask(\"task2\", cc.Atom.timerMgr.TASK_TYPE_ONE, () => { console.log(this.desc, \" ---- task2\") }, 1)\n        cc.Atom.timerMgr.registerTask(\"task4\", cc.Atom.timerMgr.TASK_TYPE_ONE, () => { console.log(this.desc, \" ---- task4\") }, 1)\n        cc.Atom.timerMgr.registerTask(\"task6\", cc.Atom.timerMgr.TASK_TYPE_ONE, () => { console.log(this.desc, \" ---- task6\") }, 1)\n    },\n    onBtnClearAllTask: function () {\n        cc.Atom.timerMgr.cleanAllTask();\n    },\n    onBtnCreateNode: function () {\n        this.nodelist = []\n        for (var index = 0; index < 1000; index++) {\n            var node = cc.Atom.prefabMgr.getPrefabObj(\"spNode\"); //cc.instantiate(this.spNode); //\n            node.parent = cc.director.getScene()\n            node.setPosition(100, 100)\n            var label = node.getChildByName(\"index_label\")\n            var text = label.getComponent(cc.Label);\n            text.string = index;\n\n            this.nodelist.push(node)\n        }\n    },\n    onBtnRemoveNode: function () {\n        for (var index = 0; index < this.nodelist.length; index++) {\n            var element = this.nodelist[index];\n            // element.removeFromParent()\n            cc.Atom.prefabMgr.holdPrefabObj(\"spNode\", element)\n        }   \n    },\n    onBtnShowGameData: function () {\n        console.log(\"gameConfMgr version\" , cc.Atom.gameConfMgr.getInfo(\"version\"));\n        console.log(\"gameConfMgr gamemode\", cc.Atom.gameConfMgr.getInfo(\"gamemode\"));  \n\n        console.log(\"gameDataMgr HP_NUM\", cc.Atom.gameDataMgr.getData(\"HP_NUM\"));\n        console.log(\"gameDataMgr MP_NUM\", cc.Atom.gameDataMgr.getData(\"MP_NUM\"));  \n    },\n    onBtnOpenGameScene: function () {\n        cc.director.loadScene(\"Scene/gameScene\");\n    },\n});\n"]}